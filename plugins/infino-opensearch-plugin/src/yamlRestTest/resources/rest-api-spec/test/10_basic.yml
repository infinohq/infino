---
setup:
  - do:
      indices.create:
        index: test_index
        body:
          settings:
            index:
              number_of_shards: 1
              number_of_replicas: 0

---
"Test Cat Plugins Endpoint":
  - do:
      cat.plugins:
        h: component
  - match:
      $body: /^infino-opensearch-plugin/

---
"Index and Retrieve a Document":
  - do:
      index:
        index: test_index
        id: "1"
        body: { "field": "value" }
  - do:
      get:
        index: test_index
        id: "1"
  - match:
      _source:
        field: "value"

